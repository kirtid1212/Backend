{
  "info": {
    "_postman_id": "0e3c7a0a-2b40-4a95-9f12-9a6a7b6f9b10",
    "name": "Ecommerce API v1 Flow",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:3000"
    },
    {
      "key": "phone",
      "value": "+919999999999"
    },
    {
      "key": "name",
      "value": "Rahul"
    },
    {
      "key": "otp",
      "value": "123456"
    },
    {
      "key": "adminPhone",
      "value": "+919999999998"
    },
    {
      "key": "adminOtp",
      "value": "123456"
    },
    {
      "key": "accessToken",
      "value": ""
    },
    {
      "key": "refreshToken",
      "value": ""
    },
    {
      "key": "adminAccessToken",
      "value": ""
    },
    {
      "key": "adminRefreshToken",
      "value": ""
    },
    {
      "key": "userId",
      "value": ""
    },
    {
      "key": "categoryId",
      "value": ""
    },
    {
      "key": "productId",
      "value": ""
    },
    {
      "key": "variantId",
      "value": ""
    },
    {
      "key": "imageId",
      "value": ""
    },
    {
      "key": "addressId",
      "value": ""
    },
    {
      "key": "cartItemId",
      "value": ""
    },
    {
      "key": "sessionId",
      "value": ""
    },
    {
      "key": "orderId",
      "value": ""
    },
    {
      "key": "adminSignupSecret",
      "value": ""
    }
  ],
  "item": [
    {
      "name": "00 Health",
      "item": [
        {
          "name": "Health Check",
          "request": {
            "method": "GET",
            "header": [],
            "url": "{{baseUrl}}/health"
          }
        }
      ]
    },
    {
      "name": "01 Admin Setup",
      "item": [
        {
          "name": "Admin OTP Send (Signup)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"phone\":\"{{adminPhone}}\",\"purpose\":\"signup\"}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": "{{baseUrl}}/api/v1/auth/otp/send"
          }
        },
        {
          "name": "Admin Signup",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "if (pm.response.code >= 200 && pm.response.code < 300) {",
                  "  const json = pm.response.json();",
                  "  if (json && json.tokens) {",
                  "    pm.collectionVariables.set('adminAccessToken', json.tokens.accessToken);",
                  "    pm.collectionVariables.set('adminRefreshToken', json.tokens.refreshToken);",
                  "  }",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "x-admin-signup-secret",
                "value": "{{adminSignupSecret}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"name\":\"Admin\",\"phone\":\"{{adminPhone}}\",\"otp\":\"{{adminOtp}}\"}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": "{{baseUrl}}/api/v1/admin/auth/signup"
          }
        },
        {
          "name": "Admin OTP Send (Login)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"phone\":\"{{adminPhone}}\",\"purpose\":\"login\"}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": "{{baseUrl}}/api/v1/auth/otp/send"
          }
        },
        {
          "name": "Admin Login",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "if (pm.response.code >= 200 && pm.response.code < 300) {",
                  "  const json = pm.response.json();",
                  "  if (json && json.tokens) {",
                  "    pm.collectionVariables.set('adminAccessToken', json.tokens.accessToken);",
                  "    pm.collectionVariables.set('adminRefreshToken', json.tokens.refreshToken);",
                  "  }",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"phone\":\"{{adminPhone}}\",\"otp\":\"{{adminOtp}}\"}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": "{{baseUrl}}/api/v1/admin/auth/login"
          }
        },
        {
          "name": "Admin Me",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{adminAccessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": "{{baseUrl}}/api/v1/admin/me"
          }
        },
        {
          "name": "Admin Create Category",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "if (pm.response.code >= 200 && pm.response.code < 300) {",
                  "  const json = pm.response.json();",
                  "  if (json && json.data && json.data._id) {",
                  "    pm.collectionVariables.set('categoryId', json.data._id);",
                  "  }",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{adminAccessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"name\":\"Men\",\"description\":\"Menswear\",\"sortOrder\":1}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": "{{baseUrl}}/api/v1/admin/categories"
          }
        },
        {
          "name": "Admin Update Category",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{adminAccessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"name\":\"Men\",\"description\":\"Menswear Updated\",\"isActive\":true}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": "{{baseUrl}}/api/v1/admin/categories/{{categoryId}}"
          }
        },
        {
          "name": "Admin Category Image",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{adminAccessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"imageUrl\":\"https://example.com/category-men.jpg\"}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": "{{baseUrl}}/api/v1/admin/categories/{{categoryId}}/image"
          }
        },
        {
          "name": "Admin Delete Category",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{adminAccessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "DELETE",
            "header": [],
            "url": "{{baseUrl}}/api/v1/admin/categories/{{categoryId}}"
          }
        },
        {
          "name": "Admin Create Product",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "if (pm.response.code >= 200 && pm.response.code < 300) {",
                  "  const json = pm.response.json();",
                  "  if (json && json.data && json.data._id) {",
                  "    pm.collectionVariables.set('productId', json.data._id);",
                  "  }",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{adminAccessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"name\":\"Cotton Shirt\",\"categoryId\":\"{{categoryId}}\",\"price\":1299,\"description\":\"Premium cotton shirt\",\"brand\":\"Acme\",\"status\":\"active\",\"isFeatured\":true,\"isTrending\":true}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": "{{baseUrl}}/api/v1/admin/products"
          }
        },
        {
          "name": "Admin Update Product",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{adminAccessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"price\":1199,\"status\":\"active\",\"isFeatured\":false}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": "{{baseUrl}}/api/v1/admin/products/{{productId}}"
          }
        },
        {
          "name": "Admin List Products",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "if (pm.response.code >= 200 && pm.response.code < 300) {",
                  "  const json = pm.response.json();",
                  "  if (!pm.collectionVariables.get('productId') && json && json.data && json.data.length) {",
                  "    pm.collectionVariables.set('productId', json.data[0]._id);",
                  "  }",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{adminAccessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": "{{baseUrl}}/api/v1/admin/products?status=active&page=1&limit=10"
          }
        },
        {
          "name": "Admin Product Details",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{adminAccessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": "{{baseUrl}}/api/v1/admin/products/{{productId}}"
          }
        },
        {
          "name": "Admin Create Variant",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "if (pm.response.code >= 200 && pm.response.code < 300) {",
                  "  const json = pm.response.json();",
                  "  if (json && json.data && json.data._id) {",
                  "    pm.collectionVariables.set('variantId', json.data._id);",
                  "  }",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{adminAccessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"size\":\"M\",\"color\":\"Black\",\"price\":1299,\"stock\":25,\"sku\":\"SKU-M-BLK\"}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": "{{baseUrl}}/api/v1/admin/products/{{productId}}/variants"
          }
        },
        {
          "name": "Admin Update Variant",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{adminAccessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"price\":1399,\"stock\":20}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": "{{baseUrl}}/api/v1/admin/variants/{{variantId}}"
          }
        },
        {
          "name": "Admin Update Variant Stock",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{adminAccessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"stock\":30}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": "{{baseUrl}}/api/v1/admin/variants/{{variantId}}/stock"
          }
        },
        {
          "name": "Admin Add Product Images",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "if (pm.response.code >= 200 && pm.response.code < 300) {",
                  "  const json = pm.response.json();",
                  "  if (json && json.data && json.data.length) {",
                  "    pm.collectionVariables.set('imageId', json.data[0]._id);",
                  "  }",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{adminAccessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"urls\":[\"https://example.com/image-1.jpg\",\"https://example.com/image-2.jpg\"]}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": "{{baseUrl}}/api/v1/admin/products/{{productId}}/images"
          }
        },
        {
          "name": "Admin Delete Product Image",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{adminAccessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "DELETE",
            "header": [],
            "url": "{{baseUrl}}/api/v1/admin/products/{{productId}}/images/{{imageId}}"
          }
        },
        {
          "name": "Admin Orders List",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{adminAccessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": "{{baseUrl}}/api/v1/admin/orders?page=1&limit=10"
          }
        },
        {
          "name": "Admin Order Details",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{adminAccessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": "{{baseUrl}}/api/v1/admin/orders/{{orderId}}"
          }
        },
        {
          "name": "Admin Update Order Status",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{adminAccessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"status\":\"processing\"}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": "{{baseUrl}}/api/v1/admin/orders/{{orderId}}/status"
          }
        },
        {
          "name": "Admin Update Shipment",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{adminAccessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"carrier\":\"Delhivery\",\"trackingId\":\"DLV12345\",\"shippedAt\":\"2026-01-12T10:00:00.000Z\"}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": "{{baseUrl}}/api/v1/admin/orders/{{orderId}}/shipment"
          }
        },
        {
          "name": "Admin Refund (Placeholder)",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{adminAccessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [],
            "url": "{{baseUrl}}/api/v1/admin/orders/{{orderId}}/refund"
          }
        }
      ]
    },
    {
      "name": "02 User Auth",
      "item": [
        {
          "name": "Send OTP (Signup)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"phone\":\"{{phone}}\",\"purpose\":\"signup\"}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": "{{baseUrl}}/api/v1/auth/otp/send"
          }
        },
        {
          "name": "Verify OTP (Signup)",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "if (pm.response.code >= 200 && pm.response.code < 300) {",
                  "  const json = pm.response.json();",
                  "  if (json && json.tokens) {",
                  "    pm.collectionVariables.set('accessToken', json.tokens.accessToken);",
                  "    pm.collectionVariables.set('refreshToken', json.tokens.refreshToken);",
                  "  }",
                  "  if (json && json.user && json.user.id) {",
                  "    pm.collectionVariables.set('userId', json.user.id);",
                  "  }",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"name\":\"{{name}}\",\"phone\":\"{{phone}}\",\"otp\":\"{{otp}}\"}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": "{{baseUrl}}/api/v1/auth/signup/verify"
          }
        },
        {
          "name": "Send OTP (Login)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"phone\":\"{{phone}}\",\"purpose\":\"login\"}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": "{{baseUrl}}/api/v1/auth/otp/send"
          }
        },
        {
          "name": "Verify OTP (Login)",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "if (pm.response.code >= 200 && pm.response.code < 300) {",
                  "  const json = pm.response.json();",
                  "  if (json && json.tokens) {",
                  "    pm.collectionVariables.set('accessToken', json.tokens.accessToken);",
                  "    pm.collectionVariables.set('refreshToken', json.tokens.refreshToken);",
                  "  }",
                  "  if (json && json.user && json.user.id) {",
                  "    pm.collectionVariables.set('userId', json.user.id);",
                  "  }",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"phone\":\"{{phone}}\",\"otp\":\"{{otp}}\"}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": "{{baseUrl}}/api/v1/auth/login/verify"
          }
        },
        {
          "name": "Refresh Token",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "if (pm.response.code >= 200 && pm.response.code < 300) {",
                  "  const json = pm.response.json();",
                  "  if (json && json.tokens) {",
                  "    pm.collectionVariables.set('accessToken', json.tokens.accessToken);",
                  "    pm.collectionVariables.set('refreshToken', json.tokens.refreshToken);",
                  "  }",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"refreshToken\":\"{{refreshToken}}\"}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": "{{baseUrl}}/api/v1/auth/refresh"
          }
        },
        {
          "name": "Logout",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [],
            "url": "{{baseUrl}}/api/v1/auth/logout"
          }
        },
        {
          "name": "Get My Profile",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": "{{baseUrl}}/api/v1/me"
          }
        }
      ]
    },
    {
      "name": "03 Catalog",
      "item": [
        {
          "name": "List Categories",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "if (pm.response.code >= 200 && pm.response.code < 300) {",
                  "  const json = pm.response.json();",
                  "  if (!pm.collectionVariables.get('categoryId') && json && json.data && json.data.length) {",
                  "    pm.collectionVariables.set('categoryId', json.data[0]._id);",
                  "  }",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": "{{baseUrl}}/api/v1/categories"
          }
        },
        {
          "name": "Category Details",
          "request": {
            "method": "GET",
            "header": [],
            "url": "{{baseUrl}}/api/v1/categories/{{categoryId}}"
          }
        },
        {
          "name": "Home Products",
          "request": {
            "method": "GET",
            "header": [],
            "url": "{{baseUrl}}/api/v1/products/home?section=featured&limit=8"
          }
        },
        {
          "name": "Product List",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "if (pm.response.code >= 200 && pm.response.code < 300) {",
                  "  const json = pm.response.json();",
                  "  if (!pm.collectionVariables.get('productId') && json && json.data && json.data.length) {",
                  "    pm.collectionVariables.set('productId', json.data[0]._id);",
                  "  }",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": "{{baseUrl}}/api/v1/products?categoryId={{categoryId}}&sort=newest&page=1&limit=10"
          }
        },
        {
          "name": "Product Details",
          "request": {
            "method": "GET",
            "header": [],
            "url": "{{baseUrl}}/api/v1/products/{{productId}}"
          }
        },
        {
          "name": "Related Products",
          "request": {
            "method": "GET",
            "header": [],
            "url": "{{baseUrl}}/api/v1/products/{{productId}}/related"
          }
        },
        {
          "name": "Product Availability",
          "request": {
            "method": "GET",
            "header": [],
            "url": "{{baseUrl}}/api/v1/products/{{productId}}/availability?size=M&color=Black"
          }
        }
      ]
    },
    {
      "name": "04 Cart & Address",
      "item": [
        {
          "name": "Get Cart",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": "{{baseUrl}}/api/v1/cart"
          }
        },
        {
          "name": "Add Cart Item",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "if (pm.response.code >= 200 && pm.response.code < 300) {",
                  "  const json = pm.response.json();",
                  "  if (json && json.data && json.data.items && json.data.items.length) {",
                  "    pm.collectionVariables.set('cartItemId', json.data.items[0]._id);",
                  "  }",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"productId\":\"{{productId}}\",\"variantId\":\"{{variantId}}\",\"qty\":1}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": "{{baseUrl}}/api/v1/cart/items"
          }
        },
        {
          "name": "Update Cart Item",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"qty\":2}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": "{{baseUrl}}/api/v1/cart/items/{{cartItemId}}"
          }
        },
        {
          "name": "Remove Cart Item",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "DELETE",
            "header": [],
            "url": "{{baseUrl}}/api/v1/cart/items/{{cartItemId}}"
          }
        },
        {
          "name": "Clear Cart",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "DELETE",
            "header": [],
            "url": "{{baseUrl}}/api/v1/cart"
          }
        },
        {
          "name": "Create Address",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "if (pm.response.code >= 200 && pm.response.code < 300) {",
                  "  const json = pm.response.json();",
                  "  if (json && json.data && json.data._id) {",
                  "    pm.collectionVariables.set('addressId', json.data._id);",
                  "  }",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"full_name\":\"Rahul Sharma\",\"phone\":\"{{phone}}\",\"address_line1\":\"221B Baker Street\",\"address_line2\":\"Near Park\",\"city\":\"Mumbai\",\"state\":\"Maharashtra\",\"pincode\":\"400001\",\"country\":\"India\",\"is_default\":true}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": "{{baseUrl}}/api/v1/addresses"
          }
        },
        {
          "name": "List Addresses",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": "{{baseUrl}}/api/v1/addresses"
          }
        },
        {
          "name": "Set Default Address",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "PATCH",
            "header": [],
            "url": "{{baseUrl}}/api/v1/addresses/{{addressId}}/default"
          }
        }
      ]
    },
    {
      "name": "05 Checkout & Orders",
      "item": [
        {
          "name": "Buy Now - Create Session",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "if (pm.response.code >= 200 && pm.response.code < 300) {",
                  "  const json = pm.response.json();",
                  "  if (json && json.data && json.data._id) {",
                  "    pm.collectionVariables.set('sessionId', json.data._id);",
                  "  }",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"productId\":\"{{productId}}\",\"variantId\":\"{{variantId}}\",\"qty\":1}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": "{{baseUrl}}/api/v1/checkout/buy-now"
          }
        },
        {
          "name": "Buy Now - Active Session",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": "{{baseUrl}}/api/v1/checkout/session"
          }
        },
        {
          "name": "Checkout Summary (Cart)",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": "{{baseUrl}}/api/v1/checkout/summary?mode=cart"
          }
        },
        {
          "name": "Checkout Summary (Buy Now)",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": "{{baseUrl}}/api/v1/checkout/summary?mode=buyNow&sessionId={{sessionId}}"
          }
        },
        {
          "name": "Place Order (Cart, COD)",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "if (pm.response.code >= 200 && pm.response.code < 300) {",
                  "  const json = pm.response.json();",
                  "  if (json && json.data && json.data._id) {",
                  "    pm.collectionVariables.set('orderId', json.data._id);",
                  "  }",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"mode\":\"cart\",\"addressId\":\"{{addressId}}\",\"paymentMethod\":\"COD\",\"notes\":\"Leave at door\"}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": "{{baseUrl}}/api/v1/orders"
          }
        },
        {
          "name": "Place Order (Buy Now, COD)",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"mode\":\"buyNow\",\"addressId\":\"{{addressId}}\",\"paymentMethod\":\"COD\",\"sessionId\":\"{{sessionId}}\"}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": "{{baseUrl}}/api/v1/orders"
          }
        },
        {
          "name": "List My Orders",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "if (pm.response.code >= 200 && pm.response.code < 300) {",
                  "  const json = pm.response.json();",
                  "  if (!pm.collectionVariables.get('orderId') && json && json.data && json.data.length) {",
                  "    pm.collectionVariables.set('orderId', json.data[0]._id);",
                  "  }",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": "{{baseUrl}}/api/v1/orders?status=pending&page=1&limit=10"
          }
        },
        {
          "name": "Order Details",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": "{{baseUrl}}/api/v1/orders/{{orderId}}"
          }
        },
        {
          "name": "Cancel Order",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [],
            "url": "{{baseUrl}}/api/v1/orders/{{orderId}}/cancel"
          }
        },
        {
          "name": "Track Order",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": "{{baseUrl}}/api/v1/orders/{{orderId}}/tracking"
          }
        }
      ]
    }
  ]
}